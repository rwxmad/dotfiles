################
### MONITORS ###
################

monitor = DP-2, 3840x2160@165Hz, 0x0, 1

###################
###  VARIABLES  ###
###################

$system_theme = Everforest-Dark-Medium
$cursor_theme = Everforest-Dark-Medium
$cursor_size  = 12
$icon_theme   = Everforest-Dark-Medium
$dpi_scale    = 1
$text_scale   = 1

$terminal = ghostty
$launcher = rofi -show drun
$fileManager = dolphin
# $clipboard    = ~/.config/rofi/cliphist/run

#################
### GTK THEME ###
#################

exec=gsettings set org.gnome.desktop.interface gtk-theme $system_theme
exec=gsettings set org.gnome.desktop.interface icon-theme $icon_theme
exec=gsettings set org.gnome.desktop.interface cursor-theme $cursor_theme
exec=gsettings set org.gnome.desktop.interface text-scaling-factor $text_scale
exec=gsettings set org.gnome.desktop.interface cursor-size $cursor_size
exec=sleep 5; gsettings set org.gnome.desktop.interface color-scheme 'prefer-dark'

#################
### AUTOSTART ###
#################

exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = /usr/lib/mate-polkit/polkit-mate-authentication-agent-1
exec-once = hyprpanel & hyprpaper &
exec-once = nm-applet &
exec-once = ghostty

#############################
### ENVIRONMENT VARIABLES ###
#############################

env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = WLR_NO_HARDWARE_CURSORS,1

env = XCURSOR_SIZE, $cursor_size
env = HYPRCURSOR_SIZE, $cursor_size

###################
### KEYBINDINGS ###
###################

$meh = CONTROL SHIFT ALT
bind = SUPER, Q, killactive,
bind = SUPER, M, exit,
bind = SUPER, return,          exec, $terminal
bind = SUPER, SPACE,           exec, $launcher
bind = SUPER, F,               fullscreen,
bind = SUPER, P,               pseudo,
bind = SUPER, E,               exec, $fileManager
bind = SUPER, R,               togglesplit,
bind = SUPER, T,               togglefloating,
bind = SUPER ALT, V,           exec, $clipboard
bind = SUPER ALT, L, exec, hyprlock
# bind = SUPER, SUPER_L,        fullscreen, 1

### Switch workspaces ###
bind = SUPER, 1,     workspace, 1
bind = SUPER, 2,     workspace, 2
bind = SUPER, 3,     workspace, 3
bind = SUPER, 4,     workspace, 4
bind = SUPER, 5,     workspace, 5
bind = SUPER, 6,     workspace, 6
bind = SUPER, 7,     workspace, 7
bind = SUPER, 8,     workspace, 8
bind = SUPER, 9,     workspace, 9
bind = SUPER, 0,     workspace, 10

### Move active window to a workspace ###
bind = SUPER ALT, 1, movetoworkspace, 1
bind = SUPER ALT, 2, movetoworkspace, 2
bind = SUPER ALT, 3, movetoworkspace, 3
bind = SUPER ALT, 4, movetoworkspace, 4
bind = SUPER ALT, 5, movetoworkspace, 5
bind = SUPER ALT, 6, movetoworkspace, 6
bind = SUPER ALT, 7, movetoworkspace, 7
bind = SUPER ALT, 8, movetoworkspace, 8
bind = SUPER ALT, 9, movetoworkspace, 9
bind = SUPER ALT, 0, movetoworkspace, 10

# Move focus
bind = SUPER, H,     movefocus, l
bind = SUPER, J,     movefocus, d
bind = SUPER, K,     movefocus, u
bind = SUPER, L,     movefocus, r
bind = SUPER SHIFT, H, movewindow, l
bind = SUPER SHIFT, J, movewindow, d
bind = SUPER SHIFT, K, movewindow, u
bind = SUPER SHIFT, L, movewindow, r

bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPrev, exec, playerctl previous

bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

#############
### INPUT ###
#############

input {
  repeat_rate = 66
  repeat_delay = 300
  kb_layout = us, ru
  kb_options = grp:ctrl_space_toggle
  follow_mouse = 2
  sensitivity = 0
}

# Scroll through existing workspaces with mainMod + scroll
bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1

# Scroll through existing workspaces with mouse side buttons
bind = , mouse:275, workspace, e-1
bind = , mouse:276, workspace, e+1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

##############################
### WINDOWS AND WORKSPACES ###
##############################

# Ignore maximize requests from apps. You'll probably like this.
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
